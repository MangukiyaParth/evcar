function doAPICall(e,t,a){a=void 0===a||!!a;var r={};for(var n in e)if(e.hasOwnProperty(n)){if("string"!=typeof e[n])r[n]=e[n];else{if("Invalid date"==e[n]){showError(ERROR_MESSAGE_INVALID_DATE),PREVENT_API_CALL=!0;break}r[n]=e[n].replace(/''/g,"&apos;").replace(/\'/g,"&apos;").replace(/'/g,"&apos;")}}r.version="web",r.from=REQ_FROM,""!=CURRENT_USER_ID&&(r.user_id=CURRENT_USER_ID);var i={type:"POST",url:API_SERVICE_URL,data:r,async:a,dataType:"json",crossDomain:!0,headers:{}};$.ajax(i).done(function(e){$("#btn_save,button.edit.btn-success").button("reset"),parseInt((e=JSON.parse(responseString=JSON.stringify(e=e||{}).replace(/''/g,"&apos;").replace(/\'/g,"&apos;").replace(/&apos;/g,"'"))).status),e.error?showError(JSON.stringify(e.error),"ERROR"):t(e)}).fail(function(e){$("#btn_save,button.edit.btn-success").button("reset"),e.readyState})}function showLoading(){}function hideLoading(){}function to_number_format(e){e=e.toFixed(2).toString();var t="";e.indexOf(".")>0&&(t=e.substring(e.indexOf("."),e.length));var a=(e=(e=Math.floor(e)).toString()).substring(e.length-3),r=e.substring(0,e.length-3);return""!=r&&(a=","+a),r.replace(/\B(?=(\d{2})+(?!\d))/g,",")+a+t}function number2text(e){var t=Math.round(e%1*100),a="";return t>0&&(a=" AND "+convert_number(t)),convert_number(e)+""+a}function convert_number(e){if(e<0||e>999999999)return"NUMBER OUT OF RANGE!";var t=Math.floor(e/1e7),a=Math.floor((e-=1e7*t)/1e5),r=Math.floor((e-=1e5*a)/1e3),n="";return t>0&&(n+=t),a>0?n+=a:t>0&&(n+="00"),r>0&&0==a?n+="0."+r:r>0&&(n+="."+r),n+=" Lakh"}function get_footer_data(){doAPICall({op:"manage_homepage",action:"get_data"},async function(e){if(e&&null!=e&&!0==e.success){var t=e.fule_car,a=e.ev_car,r=e.hybrid_car,n=[];return n.push(t),n.push(a),n.push(r),localStorage.setItem("footer_data",JSON.stringify(n)),set_footer_data(),!1}if(e&&null!=e&&!1==e.success)return!1})}function set_footer_data(){var e=localStorage.getItem("footer_data"),t=null==e?[]:JSON.parse(e);if(t.length>0){var a=t[0],r=t[1],n=t[2];if(a&&a.length>0){var i="";a.forEach(function(e){i+=`<li class="carlistsubtutitle"><a href="${ROOT_URL}cars/${e.encode_name}">${e.name}</a></li>`}),$("#footer_fule_list").html(i)}else $(".footer-fule-area").remove();if(r&&r.length>0){var s="";r.forEach(function(e){s+=`<li class="carlistsubtutitle"><a href="${ROOT_URL}cars/${e.encode_name}">${e.name}</a></li>`}),$("#footer_hybrid_list").html(s)}else $(".footer-hybrid-area").remove();if(n&&n.length>0){var o="";n.forEach(function(e){o+=`<li class="carlistsubtutitle"><a href="${ROOT_URL}cars/${e.encode_name}">${e.name}</a></li>`}),$("#footer_ev_list").html(o)}else $(".footer-ev-area").remove()}}function get_car_suggestion(e,t){doAPICall({op:"manage_homepage",action:"get_car_suggestion",search:e},async function(e){if(e&&null!=e&&!0==e.success){var a=e.data;t.fadeIn();var r="";return a.forEach(function(e){r+=`<li class="searchresult">${e.name}</li>`}),console.log(t),t.html(r),!1}if(e&&null!=e&&!1==e.success)return!1})}function show_real_image(e){$(e).each(function(){let e=$(this)[0].outerHTML.replace("/images_thumb/","/images/").replace("tmp-img","main-img d-none");$(this).after(e),$(this).next(".main-img").on("load",function(){$(this).removeClass("d-none"),$(this).prev(".tmp-img").remove()})})}function manage_single_slide(e){e.slick({dots:!1,infinite:!0,speed:300,slidesToShow:4,slidesToScroll:1,arrows:!0,centerPadding:"60px",prevArrow:'<button type="button" class="slick-custom-arrow slick-prev" title="slide Prev"> <i class="fa fa-angle-left" aria-hidden="true"></i> </button>',nextArrow:'<button type="button" class="slick-custom-arrow slick-next" title="slide Next">  <i class="fa fa-angle-right" aria-hidden="true"></i> </button>',responsive:[{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})}jQuery(function(){$(".search").keyup(function(){var e=$(this).val(),t=$(this).parent(".search-div").find(".searchCarList");""!=e?get_car_suggestion(e,t):(t.fadeOut(),t.html(""))}),$(document).on("click","li.searchresult",function(){$(this).parents(".search-div").find(".search").val($(this).text()),$(this).parents(".search-div").find(".searchCarList").fadeOut()}),$(".btnSearch").on("click",function(){""!=$(this).parent(".search-div").find(".search").val()&&(window.location=ROOT_URL+"search/"+$(this).parent(".search-div").find(".search").val().replace(/ /g,"-"))}),$("#web_comman_ListModal").on("hidden.bs.modal",function(){1==$("#web_comman_ListModal .preview-img").length&&($("#web_comman_ListModal .preview-img").remove(),$(".preview-img").slick("unslick"))})});